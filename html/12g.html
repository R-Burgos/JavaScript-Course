<!DOCTYPE html>
<html>
  <head>
    <title>App</title>
  </head>
  <body>
    <div>
      <button class="js-add-button">
        Add
      </button>

      <button class="js-remove-button">
        Remove
      </button>
    </div>

    <script>
      let messages = 2;
      let intervalId;
      let isDisplayingNotification;
      
      displayNotification();

      document.querySelector('.js-add-button').addEventListener('click', () => {
        messages++;
        displayNotification();
      });

      document.querySelector('.js-remove-button').addEventListener('click', () => {
        if(messages > 0){
          messages--;

          if(messages === 0){
            stopNotification();
          }
        }
      });

      function displayNotification(){
        if (isDisplayingNotification){
          return;
        }
      
        isDisplayingNotification = true;

        intervalId = setInterval(() => {
          if(document.title === 'App'){
            document.title = `(${messages}) New messages`;
          } else {
            document.title = 'App';
          }
        }, 1000);
      }

      function stopNotification(){
        isDisplayingNotification = false;

        clearInterval(intervalId);
        document.title = 'App';
      }

    </script>
  </body>
</html>